(this.webpackJsonp=this.webpackJsonp||[]).push([[9],{291:function(e,t,n){},300:function(e,t,n){"use strict";n.r(t),n.d(t,"GetNotes",function(){return q}),n.d(t,"GetNotesComponent",function(){return w}),n.d(t,"getNotesQuery",function(){return U}),n.d(t,"updateQuery",function(){return k}),n.d(t,"shouldFetchMore",function(){return x}),n.d(t,"initialState",function(){return S}),n.d(t,"reducer",function(){return E}),n.d(t,"component",function(){return M}),n.d(t,"make",function(){return $});var i=n(0),r=n(12),o=n(29),a=n(26),d=n(24),u=n(68),s=n(4),l=n(32),v=n(1),f=n(3),c=n(86),p=n(20),m=n(37),g=n(11),h=n(216),y=n(217);n(291);var b="query getNotes($userName: String!, $limit: Int, $offset: Int)  {\nnote(where: {user: {username: {_eq: $userName}}}, order_by: [{updated_at: desc}], limit: $limit, offset: $offset)  {\nid  \ntitle  \ndate: updated_at  \n}\n\n}\n";function N(e){var t=u.a(d.d(e)),n=a.c(t,"note");return{note:void 0!==n?u.a(d.a(v.d(n))).map(function(e){var t,n=u.a(d.d(e)),i=a.c(n,"id");if(void 0!==i){var r=v.d(i),s=d.e(r);t=void 0!==s?s:o.a("graphql_ppx: Expected string, got "+JSON.stringify(r))}else t=o.a("graphql_ppx: Field id on type note is missing");var l,f=a.c(n,"title");if(void 0!==f){var c=v.d(f);if(void 0!==d.b(c))l=void 0;else{var p=d.e(c);l=void 0!==p?p:o.a("graphql_ppx: Expected string, got "+JSON.stringify(c))}}else l=void 0;var m=a.c(n,"date");return{id:t,title:l,date:void 0!==m?v.d(m):o.a("graphql_ppx: Field date on type note is missing")}}):o.a("graphql_ppx: Field note on type query_root is missing")}}function _(e,t,n,i){return{query:b,variables:a.a([["userName",e],["limit",void 0!==t?t:null],["offset",void 0!==n?n:null]].filter(function(e){return!d.f(e[1],5)})),parse:N}}var q={ppx_printed_query:b,query:b,parse:N,make:_,makeWithVariables:function(e){var t=e.userName,n=e.limit,i=e.offset;return{query:b,variables:a.a([["userName",t],["limit",void 0!==n?n:null],["offset",void 0!==i?i:null]].filter(function(e){return!d.f(e[1],5)})),parse:N}},makeVariables:function(e,t,n,i){return a.a([["userName",e],["limit",void 0!==t?t:null],["offset",void 0!==n?n:null]].filter(function(e){return!d.f(e[1],5)}))},definition:[N,b,function(e,t,n,r,o){return i.a(e,a.a([["userName",t],["limit",void 0!==n?n:null],["offset",void 0!==r?r:null]].filter(function(e){return!d.f(e[1],5)})))}],ret_type:function(e){return{}},MT_Ret:{}},w=c.b({query:b,parse:N});function U(e,t,n){var i=void 0!==t?t:0;return _(e,m.f,i)}function k(e,t){var n=t.fetchMoreResult;if(void 0===n)return e;var i={note:s.b(e.note,n.note)};return p.a.merge(e,i)}function x(e,t){return e.length>=l.b(m.f,t)}function S(e){return{count:1}}function E(e,t){return g.b("Update",0,[{count:1+t.count|0}])}var M=f.b("User");function $(e,t){return{debugName:M.debugName,reactClassInternal:M.reactClassInternal,handedOffState:M.handedOffState,willReceiveProps:M.willReceiveProps,didMount:M.didMount,didUpdate:M.didUpdate,willUnmount:M.willUnmount,willUpdate:M.willUpdate,shouldUpdate:M.shouldUpdate,render:function(t){var n=U(e,void 0);return r.createElement("section",{className:"Layout__center User"},r.createElement("h1",void 0,p.j(String(e)+"'s sketches")),f.a(void 0,void 0,i.j(w.make,[v.c(n.variables),void 0,void 0,"network-only",void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,function(n){var o=n.fetchMore,a=n.result;if("number"==typeof a)return r.createElement("div",{style:{width:"500px"}},f.a(void 0,void 0,y.a.make(void 0,void 0,[])));if(!a.tag)return p.j(a[0].message);var d=a[0],u=U(e,d.note.length);return x(d.note,t.state.count)?f.a(void 0,void 0,y.c(d.note,void 0,v.c(f.a(void 0,void 0,h.a(void 0,[]))),function(e){i.c(o,v.c(u.variables),k,void 0).then(function(e){return i.a(t.send,0),Promise.resolve(void 0)})},[])):f.a(void 0,void 0,y.c(d.note,void 0,v.c(f.a(void 0,void 0,h.a(void 0,[]))),void 0,[]))}])))},initialState:S,retainedProps:M.retainedProps,reducer:E,jsElementWrapped:M.jsElementWrapped}}}}]);